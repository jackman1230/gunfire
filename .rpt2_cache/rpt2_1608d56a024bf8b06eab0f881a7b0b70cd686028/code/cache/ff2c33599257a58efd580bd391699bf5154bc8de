{
  "code": "import WXFUI_ChapterView from \"../fui/Game/WXFUI_ChapterView\";\r\nimport { GameManager } from \"../Manager/GameManager\";\r\nimport PopUpView from \"./PopUpView\";\r\nimport { ViewManager } from \"../Manager/ViewManager\";\r\nimport { SoundManager } from \"../Manager/SoundManager\";\r\nexport default class ChapterView extends PopUpView {\r\n    constructor() {\r\n        super();\r\n        this.showSet = true;\r\n        this.showVolume = true;\r\n    }\r\n    createView() {\r\n        this.view = WXFUI_ChapterView.createInstance();\r\n        this.view.m_title.url = \"ui://Game/chapter_1\";\r\n        for (let t = 1; t <= GameManager.instance.maxLevel; t++) {\r\n            this.view[\"m_level_\" + t].on(Laya.Event.CLICK, this, this.chooseLevel, [t]);\r\n        }\r\n        this.view.m_share.m_share1.onClick(this, this.shareHandle1);\r\n        this.view.m_share.m_share2.onClick(this, this.shareHandle2);\r\n        this.view.m_set.onClick(this, this.showSetView);\r\n        this.view.m_setView.m_vol.onClick(this, this.setVolume);\r\n        this.view.m_last.onClick(this, this.lastHandle);\r\n        this.view.m_next.onClick(this, this.nextHandle);\r\n        this.updateView();\r\n    }\r\n    updateView() {\r\n        this.view.m_title.url = \"ui://Game/chapter_\" + GameManager.instance.curChapter;\r\n        if (GameManager.instance.curChapter < GameManager.instance.gotoMaxChapter) {\r\n            this.view.m_next.visible = true;\r\n        }\r\n        else {\r\n            this.view.m_next.visible = false;\r\n        }\r\n        if (GameManager.instance.curChapter > 1) {\r\n            this.view.m_last.visible = true;\r\n        }\r\n        else {\r\n            this.view.m_last.visible = false;\r\n        }\r\n        var c = GameManager.instance.curChapter;\r\n        for (let i = 1; i <= GameManager.instance.maxLevel; i++) {\r\n            var index = i + (c - 1) * GameManager.instance.maxLevel;\r\n            if (index < GameManager.instance.gotoMaxLevel) {\r\n                this.view[\"m_level_\" + i].m_ctl.selectedIndex = 1;\r\n            }\r\n            else if (index == GameManager.instance.gotoMaxLevel) {\r\n                this.view[\"m_level_\" + i].m_ctl.selectedIndex = 2;\r\n            }\r\n            else\r\n                this.view[\"m_level_\" + i].m_ctl.selectedIndex = 0;\r\n        }\r\n    }\r\n    chooseLevel(l) {\r\n        SoundManager.instance.playSound(\"btn_click\");\r\n        console.log(\"选择第\" + GameManager.instance.curChapter + \"章，\" + \"第\" + l + \"关\");\r\n        if (l + (GameManager.instance.curChapter - 1) * GameManager.instance.maxLevel > GameManager.instance.gotoMaxLevel)\r\n            return;\r\n        GameManager.instance.choiseLevel = l + (GameManager.instance.curChapter - 1) * GameManager.instance.maxLevel;\r\n        ViewManager.instance.showBeforeWarView();\r\n    }\r\n    setVolume() {\r\n        SoundManager.instance.playSound(\"btn_click\");\r\n        this.showVolume = !this.showVolume;\r\n        SoundManager.instance.offSound();\r\n    }\r\n    showSetView() {\r\n        SoundManager.instance.playSound(\"btn_click\");\r\n        this.showSet = !this.showSet;\r\n        this.view.m_setView.visible = this.showSet;\r\n    }\r\n    shareHandle1() {\r\n        SoundManager.instance.playSound(\"btn_click\");\r\n        ViewManager.instance.showTipsView(\"敬请期待！\");\r\n    }\r\n    shareHandle2() {\r\n        SoundManager.instance.playSound(\"btn_click\");\r\n        ViewManager.instance.showTipsView(\"敬请期待！\");\r\n    }\r\n    lastHandle() {\r\n        SoundManager.instance.playSound(\"btn_click\");\r\n        GameManager.instance.curChapter--;\r\n        this.updateView();\r\n    }\r\n    nextHandle() {\r\n        SoundManager.instance.playSound(\"btn_click\");\r\n        GameManager.instance.curChapter++;\r\n        this.updateView();\r\n    }\r\n}\r\n",
  "references": [
    "D:/littleGame/gunfire/src/fui/Game/WXFUI_ChapterView.ts",
    "D:/littleGame/gunfire/src/Manager/GameManager.ts",
    "D:/littleGame/gunfire/src/View/PopUpView.ts",
    "D:/littleGame/gunfire/src/Manager/ViewManager.ts",
    "D:/littleGame/gunfire/src/Manager/SoundManager.ts"
  ]
}
