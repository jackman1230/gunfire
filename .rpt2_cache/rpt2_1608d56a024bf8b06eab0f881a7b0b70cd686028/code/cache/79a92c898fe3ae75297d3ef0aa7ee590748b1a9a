{
  "code": "import { EventManager } from \"../../Manager/EventManager\";\r\nimport GameEvent from \"../../Control/GameEvent\";\r\nexport default class PlayerBody extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.playerState = 0;\r\n        this.startJump = false;\r\n        this.keyJump = false;\r\n    }\r\n    onEnable() {\r\n        console.log(\"onEnableonEnableonEnableonEnableonEnable\");\r\n        this.selfCollider = this.owner.getComponent(Laya.BoxCollider);\r\n        this.selfBody = this.selfCollider.rigidBody;\r\n    }\r\n    jump() {\r\n        this.keyJump = true;\r\n        this.playerState = 2;\r\n        this.setSpeedZero();\r\n    }\r\n    run() {\r\n        this.playerState = 1;\r\n        this.setSpeedZero();\r\n    }\r\n    death() {\r\n    }\r\n    stay() {\r\n        this.playerState = 0;\r\n        this.setSpeedZero();\r\n    }\r\n    onDisable() {\r\n    }\r\n    onTriggerEnter(other, self, contact) {\r\n        this.setSpeedZero();\r\n        if ((other.label == \"ground\" || other.label == \"obstacle\" || other.label == \"board\") && this.keyJump) {\r\n            this.keyJump = false;\r\n            EventManager.instance.dispatcherEvt(GameEvent.PLAYER_COLLISION_GROUND);\r\n        }\r\n        if (other.label == \"goods\") {\r\n            EventManager.instance.dispatcherEvt(GameEvent.PLAYER_GET_GOODS, other.owner);\r\n        }\r\n    }\r\n    onTriggerExit() {\r\n    }\r\n    onTriggerStay(other, self, contact) {\r\n    }\r\n    onUpdate() {\r\n    }\r\n    setSpeedZero() {\r\n        if (Laya.Physics.I.world == null)\r\n            return;\r\n        if (this.keyJump) {\r\n            this.selfBody.linearVelocity = { x: 0, y: 0 };\r\n            this.selfBody.angularVelocity = 0;\r\n            this.selfBody.angularDamping = 0;\r\n            this.selfBody.linearDamping = 0;\r\n            this.selfBody.setVelocity({ x: 0, y: 6 });\r\n        }\r\n        else {\r\n            this.selfBody.linearVelocity = { x: 0, y: 0 };\r\n            this.selfBody.angularVelocity = 0;\r\n            this.selfBody.angularDamping = 0;\r\n            this.selfBody.linearDamping = 0;\r\n            this.selfBody.setVelocity({ x: 0, y: 0 });\r\n        }\r\n        this.selfCollider.refresh();\r\n    }\r\n}\r\n",
  "references": [
    "D:/littleGame/gunfire/src/Manager/EventManager.ts",
    "D:/littleGame/gunfire/src/Control/GameEvent.ts"
  ]
}
