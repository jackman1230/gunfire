{
  "code": "import PopUpView from \"../PopUpView\";\r\nimport { SoundManager } from \"../../Manager/SoundManager\";\r\nimport { GameManager } from \"../../Manager/GameManager\";\r\nimport { ViewManager } from \"../../Manager/ViewManager\";\r\nimport { MooSnowSDK } from \"../../Manager/MooSnowSDK\";\r\nimport WXFUI_ClickADView from \"../../fui/Game/WXFUI_ClickADView\";\r\nexport default class ClickADView extends PopUpView {\r\n    constructor() {\r\n        super();\r\n        this.timeOut = 0;\r\n        this.clickTimeOut = 0;\r\n        this.clickNum = 1;\r\n        this.randomNum = 7;\r\n        this._isShow = false;\r\n        this.viewType = 1;\r\n    }\r\n    createView() {\r\n        this.view = WXFUI_ClickADView.createInstance();\r\n    }\r\n    updateView(type) {\r\n        this.view.m_btn.onClick(this, this.clickBtn);\r\n        this.view.m_bar.value = 0;\r\n        this.view.m_finger.visible = true;\r\n        this.view.m_reward.visible = false;\r\n        this._isShow = false;\r\n        this.clickNum = 1;\r\n        this.view.m_hand.url = \"ui://Game/hand\" + Math.floor(this.clickNum);\r\n        this.randomNum = this.getBannerValue();\r\n        this.viewType = type;\r\n        moosnow.platform.hideAppBox();\r\n        MooSnowSDK.hideBanner();\r\n    }\r\n    showReward() {\r\n        this.view.m_reward.visible = true;\r\n        this.view.m_reward.m_btn.onClick(this, this.hideRewardView);\r\n        GameManager.instance.buyGre += 10;\r\n    }\r\n    addTimeOut() {\r\n        this.view.m_finger.visible = false;\r\n        clearInterval(this.timeOut);\r\n        this.timeOut = setInterval(() => {\r\n            this.decValue();\r\n        }, 200);\r\n    }\r\n    clickBtn() {\r\n        SoundManager.instance.playSound(\"btn_click\");\r\n        var v = this.getRandomValue();\r\n        this.view.m_bar.value += v;\r\n        this.addTimeOut();\r\n        this.clickNum++;\r\n        if (this.clickNum >= 6)\r\n            this.clickNum = 6;\r\n        this.view.m_hand.url = \"ui://Game/hand\" + Math.floor(this.clickNum);\r\n        if (this.view.m_bar.value >= 100) {\r\n            this.view.m_bar.value = 100;\r\n        }\r\n        if (this._isShow)\r\n            return;\r\n        if (this.clickNum >= this.randomNum) {\r\n            if (this.viewType == 1) {\r\n                console.log(\"showBanner--\");\r\n                MooSnowSDK.showBanner(true);\r\n            }\r\n            else {\r\n                console.log(\"showQQADBox--\");\r\n                MooSnowSDK.showQQADBox(true);\r\n            }\r\n            this._isShow = true;\r\n            clearInterval(this.timeOut);\r\n            clearTimeout(this.clickTimeOut);\r\n            this.clickTimeOut = setTimeout(() => {\r\n                this.clickSuccess();\r\n            }, 3000);\r\n        }\r\n    }\r\n    decValue() {\r\n        this.view.m_bar.value -= 5;\r\n        this.clickNum -= 0.2;\r\n        if (this.clickNum < 1)\r\n            this.clickNum = 1;\r\n        this.view.m_hand.url = \"ui://Game/hand\" + Math.floor(this.clickNum);\r\n        if (this.view.m_bar.value <= 0)\r\n            this.view.m_bar.value = 0;\r\n    }\r\n    clickSuccess() {\r\n        this._isShow = true;\r\n        clearInterval(this.timeOut);\r\n        clearTimeout(this.clickTimeOut);\r\n        this.view.m_btn.offClick(this, this.clickBtn);\r\n        ViewManager.instance.hidePopUpView(ViewManager.instance.clickAdView);\r\n        if (this.viewType == 1) {\r\n            MooSnowSDK.hideBanner();\r\n            GameManager.instance.enterGame();\r\n        }\r\n        else {\r\n            MooSnowSDK.hideQQADBox();\r\n        }\r\n    }\r\n    hideAllView() {\r\n        super.hideAllView();\r\n        clearInterval(this.timeOut);\r\n        clearTimeout(this.clickTimeOut);\r\n        this.view.m_btn.offClick(this, this.clickBtn);\r\n    }\r\n    hideRewardView() {\r\n        this.view.m_reward.m_btn.offClick(this, this.hideRewardView);\r\n    }\r\n    getRandomValue() {\r\n        return Math.ceil(Math.random() * 5) + 15;\r\n    }\r\n    getBannerValue() {\r\n        return Math.ceil(Math.random() * 2) + 2;\r\n    }\r\n}\r\n",
  "references": [
    "D:/littleGame/gunfire/src/View/PopUpView.ts",
    "D:/littleGame/gunfire/src/Manager/SoundManager.ts",
    "D:/littleGame/gunfire/src/Manager/EventManager.ts",
    "D:/littleGame/gunfire/src/Control/GameEvent.ts",
    "D:/littleGame/gunfire/src/Data/GameData.ts",
    "D:/littleGame/gunfire/src/Manager/GameManager.ts",
    "D:/littleGame/gunfire/src/Manager/ViewManager.ts",
    "D:/littleGame/gunfire/src/Manager/MooSnowSDK.ts",
    "D:/littleGame/gunfire/src/fui/Game/WXFUI_ClickADView.ts"
  ]
}
