{
  "code": "import { ViewManager } from \"../Manager/ViewManager\";\r\nimport GameEvent from \"../Control/GameEvent\";\r\nimport { EventManager } from \"../Manager/EventManager\";\r\nimport BoomBody from \"./Body/BoomBody\";\r\nexport default class BoomView {\r\n    constructor() {\r\n        this.boomType = 1;\r\n        this.direction = 1;\r\n        this.speed = 35;\r\n    }\r\n    createView(type, s, b) {\r\n        this.boomType = type;\r\n        this.isPlayer = b;\r\n        this.pos = s;\r\n        Laya.Scene.load(\"BoomBody.scene\", Laya.Handler.create(this, this.loadComplete));\r\n    }\r\n    loadComplete(s) {\r\n        this.view = fairygui.UIPackage.createObject(\"Game\", \"BoomView\");\r\n        this.scene = s;\r\n        this.scene.addComponent(BoomBody);\r\n        this.body = this.scene.getComponent(Laya.RigidBody);\r\n        this.box = this.scene.getComponent(Laya.CircleCollider);\r\n        if (this.isPlayer) {\r\n            this.box.label = this.body.label = \"PlayerBoom\";\r\n        }\r\n        else {\r\n            this.box.label = this.body.label = \"enemyBoom\";\r\n        }\r\n        this.scene.addChild(this.view.displayObject);\r\n        ViewManager.instance.warView.scene.addChild(this.scene);\r\n        this.view.m_boom.url = \"ui://Game/boom_\" + this.boomType;\r\n        this.view.m_boom.content.setPlaySettings(0, -1, 1, 0, Laya.Handler.create(this, this.showComplete));\r\n        this.setBoomViewPos();\r\n        EventManager.instance.addNotice(GameEvent.CLEAR_WAR_VIEW, this, this.dispose);\r\n    }\r\n    setBoomViewPos() {\r\n        this.scene.x = this.pos.x - this.scene.width / 2;\r\n        this.scene.y = this.pos.y - this.scene.height / 2;\r\n    }\r\n    showComplete() {\r\n        this.calDamage();\r\n        this.dispose();\r\n    }\r\n    calDamage() {\r\n    }\r\n    dispose() {\r\n        EventManager.instance.offNotice(GameEvent.CLEAR_WAR_VIEW, this, this.dispose);\r\n        Laya.Pool.recover(\"boomView\", this);\r\n        if (this.view)\r\n            this.view.dispose();\r\n        this.scene.removeSelf();\r\n    }\r\n}\r\n",
  "references": [
    "D:/littleGame/gunfire/src/Manager/ViewManager.ts",
    "D:/littleGame/gunfire/src/Control/GameEvent.ts",
    "D:/littleGame/gunfire/src/Manager/EventManager.ts",
    "D:/littleGame/gunfire/src/View/Enemy.ts",
    "D:/littleGame/gunfire/src/fui/Game/WXFUI_BoomView.ts",
    "D:/littleGame/gunfire/src/View/Body/BoomBody.ts"
  ]
}
