{
  "code": "import { WarView } from \"../View/WarView\";\r\nimport Player from \"../View/Player\";\r\nimport Enemy from \"../View/Enemy\";\r\nimport EnemyBullet from \"../View/EnemyBullet\";\r\nimport PlayerBullet from \"../View/PlayerBullet\";\r\nimport BombView from \"../View/BombView\";\r\nimport { BombData } from \"../Data/PlayerData\";\r\nexport class ViewManager {\r\n    constructor() {\r\n        this.bulletArr = [];\r\n        this.enemyArr = [];\r\n        this.isChecking = false;\r\n        this.playerBulletPos = {\r\n            \"11\": [135, -22],\r\n            \"12\": [167, 0],\r\n            \"13\": [],\r\n            \"14\": [20, -60],\r\n            \"-11\": [-200, -22],\r\n            \"-12\": [-220, 0],\r\n            \"-13\": [],\r\n            \"-14\": [-20, -60],\r\n            \"21\": [-150, -30],\r\n            \"22\": [],\r\n            \"23\": [],\r\n            \"-21\": [],\r\n            \"-22\": [],\r\n            \"-23\": [],\r\n        };\r\n        this.enemyBulletPos = {\r\n            \"11\": [105, 10],\r\n            \"12\": [10, -40],\r\n            \"13\": [125, 15],\r\n            \"14\": [],\r\n            \"15\": [70, -20],\r\n            \"-11\": [-100, 10],\r\n            \"-12\": [0, -50],\r\n            \"-13\": [-75, 15],\r\n            \"-14\": [],\r\n            \"-15\": [0, -20],\r\n        };\r\n    }\r\n    static get instance() {\r\n        if (this._instance == null)\r\n            this._instance = new ViewManager();\r\n        return this._instance;\r\n    }\r\n    showStartView() {\r\n        this.initView();\r\n        console.log(\"开始初始化界面\");\r\n    }\r\n    createBomb(type, dir, parentPos, b) {\r\n        var bomb = Laya.Pool.getItemByClass(\"bombView\", BombView);\r\n        if (b)\r\n            bomb.initView(BombData.BOMB_1, dir, parentPos, b, this.getPlayerBulletOffSetPos(dir, type));\r\n        else\r\n            bomb.initView(type, dir, parentPos, b, this.getEnemyBulletOffSetPos(dir, type));\r\n    }\r\n    createBullet() {\r\n        var b = Laya.Pool.getItemByClass(\"PlayerBullet\", PlayerBullet);\r\n        b.initView(this.rolePlayer.weaponType, this.rolePlayer.direction);\r\n    }\r\n    createEnemyBullet(type, dir, s) {\r\n        var b = Laya.Pool.getItemByClass(\"enemyBullet\", EnemyBullet);\r\n        b.initView(type, dir, s);\r\n    }\r\n    createEnemy() {\r\n        var b = Laya.Pool.getItemByClass(\"enemy\", Enemy);\r\n        b.initView();\r\n    }\r\n    initView() {\r\n        this.warView = new WarView();\r\n        this.player = new Player();\r\n        this.warView.initView();\r\n        this.player.initView();\r\n    }\r\n    get rolePlayer() {\r\n        return this.player;\r\n    }\r\n    showEnemyDeathAfter() {\r\n    }\r\n    getBodyCenterPos(s) {\r\n        return s.getComponent(Laya.RigidBody).getWorldCenter();\r\n    }\r\n    updateViewPort(moveX) {\r\n        this.warView.updateViewPort(moveX);\r\n    }\r\n    bulletRandomY() {\r\n        return Math.floor(Math.random() * 10) + 10;\r\n    }\r\n    getPlayerBulletOffSetPos(dir, weaponType) {\r\n        var s = dir + \"\" + weaponType;\r\n        if (this.playerBulletPos[s])\r\n            return new Laya.Point(this.playerBulletPos[s][0], this.playerBulletPos[s][1]);\r\n        else\r\n            return new Laya.Point(0, 0);\r\n    }\r\n    getEnemyBulletOffSetPos(dir, weaponType) {\r\n        var s = dir + \"\" + weaponType;\r\n        console.log(\"getEnemyBulletOffSetPos--\", s);\r\n        if (this.enemyBulletPos[s])\r\n            return new Laya.Point(this.enemyBulletPos[s][0], this.enemyBulletPos[s][1]);\r\n        else\r\n            return new Laya.Point(0, 0);\r\n    }\r\n}\r\n",
  "references": [
    "D:/littleGame/gunfire/src/View/WarView.ts",
    "D:/littleGame/gunfire/src/fui/Game/WXFUI_Player.ts",
    "D:/littleGame/gunfire/src/View/Player.ts",
    "D:/littleGame/gunfire/src/View/Enemy.ts",
    "D:/littleGame/gunfire/src/View/EnemyBullet.ts",
    "D:/littleGame/gunfire/src/View/PlayerBullet.ts",
    "D:/littleGame/gunfire/src/View/BombView.ts",
    "D:/littleGame/gunfire/src/Data/PlayerData.ts"
  ]
}
